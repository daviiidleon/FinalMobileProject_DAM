/* --- Inlined CSS Variables for Accounts Page --- */
:host { // Using :host to encapsulate these variables for this component
  --page-background: #f8f9fa; // Very light grey for ion-content
  --card-background: #ffffff; // Pure white for cards and distinct sections
  --border-color: #e9ecef; // Light grey for subtle separation
  --main-text-color: #343a40; // Dark grey for good contrast
  --secondary-text-color: #6c757d; // Medium grey for less prominent text
  --sidebar-background: #222; // Dark background for the side menu
  --sidebar-text: #fff; // White text for the side menu
  --shadow-light: 0 2px 8px rgba(0, 0, 0, 0.04); // Softer shadow for cards/lists
  --shadow-subtle: 0 1px 3px rgba(0,0,0,0.03); // Very subtle shadow for input fields

  // Ionic specific colors used within this page (ensure these match your global variables if you have them)
  --ion-color-primary: #007bff; // A standard, vibrant blue
  --ion-color-primary-shade: #006bdf;
  --ion-color-primary-tint: #e6f2ff; // Lighter tint for borders/backgrounds
  --ion-color-primary-contrast: #ffffff;
  --ion-color-danger: #dc3545; // A clear red
  --ion-color-danger-shade: #c12f3d;
  --ion-color-light: #f8f9fa; // Used for modal header toolbar
  --ion-color-step-50: #f8f8f8; // Light step for input backgrounds
}

/* --- Dark Theme (if you have one) --- */
body.dark-theme {
  --page-background: #1a1a1a;
  --card-background: #2a2a2a;
  --main-text-color: #e0e0e0;
  --label-color: #bbbbbb;
  --input-border-color: #444444;
  --small-text-color: #aaaaaa;
  --hint-text-color: #999999;
  --shadow-light: 0 2px 10px rgba(0, 0, 0, 0.3); // More pronounced shadow for dark theme
  --shadow-subtle: 0 1px 3px rgba(0,0,0,0.1);

  // Dark theme specific input backgrounds
  ion-item ion-input {
    --background: #333333;
    &.ion-readonly {
      --background: #444444;
    }
  }
}

/* --- Dashboard Layout and General Styles (shared with other pages, now inlined) --- */
ion-content {
  --background: var(--page-background); /* Set page background */
}

ion-header {
  --background: var(--card-background); /* Header background */
  border-bottom: 1px solid var(--border-color); /* Subtle header border */
  box-shadow: 0 1px 4px rgba(0,0,0,0.03); /* Subtle header shadow */
}

.dashboard-layout {
  display: flex;
  flex-direction: row;
  height: 100%;
  width: 100%;

  @media (max-width: 768px) {
    flex-direction: column;
  }
}

.first-content {
  width: 15%;
  background-color: var(--sidebar-background); /* Using inlined variable */
  color: var(--sidebar-text); /* Using inlined variable */
  @media (max-width: 768px) {
    width: 100%;
  }
}

.main-content {
  flex-grow: 1;
  padding: 20px;
  overflow-y: auto;
  box-sizing: border-box;
}

/* --- Page Header Section --- */
.page-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
  flex-wrap: wrap; /* Allow wrapping on smaller screens */

  .page-title {
    font-size: 24px;
    font-weight: bold;
    color: var(--main-text-color); /* Using inlined variable */
    display: flex;
    align-items: center;
    margin-right: auto; /* Pushes the button to the right */

    ion-icon { /* Changed from lucide-icon to ion-icon */
      color: var(--ion-color-primary); /* Using primary color for icon */
    }
  }

  p {
    font-size: 14px;
    color: var(--secondary-text-color); /* Using inlined variable */
    margin-left: 10px; /* Space between title and description */
    margin-right: auto; /* Pushes the button to the right */
    &.text-muted-foreground { // Explicitly target if Tailwind class is used
      color: var(--secondary-text-color);
    }
  }

  .add-account-button {
    --background: var(--ion-color-primary); /* Using primary color for button */
    --color: var(--ion-color-primary-contrast); /* White text on primary */
    font-size: 14px;
    height: 40px; /* Fixed height for consistency */
    display: flex;
    align-items: center;
    justify-content: center;
    --border-radius: 8px; /* Consistent button radius */
    font-weight: 600;
    text-transform: none;

    &:hover {
      --background: var(--ion-color-primary-shade);
    }

    ion-icon { /* Changed from lucide-icon to ion-icon */
      margin-right: 8px; /* Space between icon and text */
      font-size: 18px; /* Adjust icon size */
    }
  }

  @media (max-width: 991px) {
    flex-direction: column;
    align-items: flex-start;
    gap: 10px;

    .page-title, p {
      margin-right: 0;
      width: 100%; /* Take full width */
    }
    .page-title {
      margin-bottom: 5px;
    }
    p {
      margin-left: 0;
      margin-bottom: 10px;
    }
    .add-account-button {
      margin-top: 10px;
      width: 100%;
      justify-content: center; /* Center content in full-width buttons */
    }
  }
}

/* --- Account Cards Grid --- */
.grid {
  display: grid;
  gap: 1.5rem; /* Equivalent to gap-6 */
  grid-template-columns: repeat(1, minmax(0, 1fr)); /* Default to 1 column on small screens */

  @media (min-width: 768px) { /* md */
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }

  @media (min-width: 1024px) { /* lg */
    grid-template-columns: repeat(3, minmax(0, 1fr));
  }

  @media (min-width: 1280px) { /* xl */
    grid-template-columns: repeat(4, minmax(0, 1fr));
  }
}

ion-card {
  background-color: var(--card-background); /* Using inlined variable */
  border: 1px solid var(--border-color); /* Using inlined variable */
  border-radius: 8px; /* Consistent border radius */
  box-shadow: var(--shadow-light); /* Consistent shadow */
  transition: box-shadow 300ms ease-in-out; /* transition-shadow duration-300 */
  display: flex;
  flex-direction: column; /* flex flex-column */

  &:hover {
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08); /* A slightly more pronounced hover shadow */
  }

  ion-card-header {
    padding-bottom: 0.5rem; /* Adjust padding as needed */
  }

  ion-card-content {
    flex-grow: 1; /* flex-grow */
    padding-top: 0.5rem; /* Adjust padding as needed */
    padding-bottom: 1rem; /* Adjust padding as needed */

    .space-y-3 > :not([hidden]) ~ :not([hidden]) {
      margin-top: 0.75rem; /* space-y-3 */
    }
  }

  /* Tailwind-like utility classes used directly in HTML, now styled via SCSS */
  .flex { display: flex; }
  .items-start { align-items: flex-start; }
  .justify-between { justify-content: space-between; }
  .gap-2 { gap: 0.5rem; }
  .items-center { align-items: center; }
  .shrink-0 { flex-shrink: 0; }
  .mr-3 { margin-right: 0.75rem; }
  .h-6 { height: 1.5rem; }
  .w-6 { width: 1.5rem; }
  .text-primary { color: var(--ion-color-primary); } /* Ensure Ionic primary color is used */

  ion-card-title {
    font-size: 1.25rem; /* text-xl */
    line-height: 1.75rem;
    color: var(--main-text-color);
  }

  ion-card-subtitle {
    color: var(--secondary-text-color);
  }

  ion-badge {
    font-size: 0.75rem; /* text-xs */
    line-height: 1rem;
    --background: var(--border-color); // A subtle light background for badge
    --color: var(--secondary-text-color); // Text color for badge
    border-radius: 4px; // Small border radius for badges
  }

  .text-xs { font-size: 0.75rem; line-height: 1rem; }
  .text-muted-foreground { color: var(--secondary-text-color); } /* Using inlined variable */
  .text-3xl { font-size: 1.875rem; line-height: 2.25rem; }
  .font-bold { font-weight: 700; }
  .text-destructive { color: var(--ion-color-danger); } /* Using inlined danger color */
  .text-foreground { color: var(--main-text-color); } /* Using inlined main text color */
  .mr-1\.5 { margin-right: 0.375rem; }
  .h-3\.5 { height: 0.875rem; }
  .w-3\.5 { width: 0.875rem; }

  .card-footer {
    border-top: 1px solid var(--border-color); /* Using inlined variable */
    padding-top: 1rem; /* pt-4 */
    display: flex;
    justify-content: flex-end; /* justify-end */
    gap: 0.5rem; /* gap-2 */

    ion-button {
      height: 36px; /* Ionic default small button height */
      --padding-start: 12px;
      --padding-end: 12px;
      font-size: 0.875rem; /* text-sm */
      --border-radius: 8px; // Consistent with other buttons
      font-weight: 600;
      text-transform: none;
      display: flex; /* Enable flex for icon and text */
      align-items: center; /* Center items vertically */
    }

    ion-button[fill="outline"] {
      --background: transparent;
      --border-color: var(--ion-color-primary);
      --color: var(--ion-color-primary);
      --border-width: 1px;
      &:hover {
        --background: rgba(var(--ion-color-primary-rgb), 0.1);
      }
    }

    ion-button[color="danger"] {
      --background: var(--ion-color-danger);
      --color: var(--ion-color-primary-contrast);
      &:hover {
        --background: var(--ion-color-danger-shade);
      }
    }

    ion-icon { /* Changed from lucide-icon to ion-icon */
      height: 1rem; /* h-4 */
      width: 1rem; /* w-4 */
      margin-right: 6px; /* Space between icon and text */
    }
  }
}

/* --- No Accounts Card --- */
ion-card.border-dashed {
  background-color: var(--card-background); // Ensure background is white
  border: 2px dashed rgba(var(--secondary-text-color-rgb, 108,117,125), 0.3); /* Using inlined variable and transparency */
  border-radius: 8px;
  box-shadow: var(--shadow-light); // Keep consistent shadow
  grid-column: 1 / -1; /* col-span-full */

  ion-card-content {
    padding: 2.5rem; /* p-10 */
    text-align: center;
    display: flex;
    flex-direction: column;
    align-items: center;

    div[style*="background-color: #ddd"] { // Target the placeholder div
      background-color: var(--border-color) !important; // Use a variable for placeholder
    }

    h3 {
      font-size: 1.25rem; /* text-xl */
      font-weight: 600; /* font-semibold */
      color: var(--secondary-text-color); /* text-muted-foreground */
      margin-bottom: 0.5rem; /* mb-2 */
    }

    p {
      font-size: 0.875rem; /* text-sm */
      color: var(--secondary-text-color); /* text-muted-foreground */
      max-width: 20rem; /* max-w-xs */
    }

    ion-button {
      margin-top: 1.5rem; /* mt-6 */
      --background: var(--ion-color-primary);
      --color: var(--ion-color-primary-contrast);
      --border-radius: 8px;
      font-weight: 600;
      text-transform: none;
      height: 44px; // Consistent height for this main action
      display: flex;
      align-items: center;
      justify-content: center;

      ion-icon { /* Changed from lucide-icon to ion-icon */
        margin-right: 8px;
        font-size: 18px;
      }
    }
  }
}

/* --- Modal Styles --- */
ion-modal {
  --width: fit-content;
  --min-width: 300px;
  --max-width: 500px;
  --height: fit-content;
  --border-radius: 12px;
  --box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
}

.modal-content {
  --background: var(--card-background); // Modal content background
  color: var(--main-text-color);
}

ion-toolbar {
  --background: var(--card-background); // Toolbar background
  --color: var(--main-text-color);
  border-bottom: 1px solid var(--border-color);
}

ion-title {
  font-weight: bold;
}

.modal-body {
  padding: 20px;
}

.space-y-6 > :not([hidden]) ~ :not([hidden]) {
  margin-top: 1.5rem; /* space-y-6 */
}

.space-y-2 > :not([hidden]) ~ :not([hidden]) {
  margin-top: 0.5rem; /* space-y-2 */
}

.grid-cols-1 { grid-template-columns: repeat(1, minmax(0, 1fr)); }
.md\:grid-cols-2 {
  @media (min-width: 768px) {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }
}
.gap-4 { gap: 1rem; }


ion-label {
  color: var(--label-color);
  font-size: 15px;
}

ion-input, ion-select {
  --background: var(--page-background); // Input/select background
  border: 1px solid var(--input-border-color, #ccc);
  border-radius: 8px;
  --padding-start: 12px;
  --padding-end: 12px;
  --padding-top: 10px;
  --padding-bottom: 10px;
  font-size: 15px;
  color: var(--main-text-color);
  box-shadow: var(--shadow-subtle);
}

ion-text[color="danger"] {
  font-size: 12px;
  margin-top: 4px;
}

.w-full { width: 100%; }

ion-button[type="submit"] {
  --background: var(--ion-color-primary);
  --color: var(--ion-color-primary-contrast);
  --border-radius: 8px;
  font-weight: 600;
  text-transform: none;
  height: 48px;
  display: flex;
  align-items: center;
  justify-content: center;

  ion-icon { /* Changed from lucide-icon to ion-icon */
    margin-right: 8px;
    font-size: 18px;
  }
}

// Styles for the close button in the modal header
ion-buttons[slot="end"] ion-button {
  --background: transparent;
  --color: var(--secondary-text-color); // Use a subtle color for the close button
  --box-shadow: none;
  font-size: 18px;
  height: 40px;
  width: 40px; // Make it a square button for the icon
  padding: 0; // Remove padding as it's an icon button

  ion-icon {
    font-size: 24px; // Larger icon for close button
    margin: 0; // No margin for icon-only button
  }

  &:hover {
    --background: rgba(var(--secondary-text-color-rgb, 108,117,125), 0.1); // Light hover background
  }
}

/* --- Skeleton Loader Styles (using inlined variables) --- */
.skeleton {
  background: linear-gradient(90deg, var(--border-color) 25%, #e0e0e0 50%, var(--border-color) 75%);
  background-size: 200% 100%;
  animation: loading 1.5s infinite;
  border-radius: 4px;
}

@keyframes loading {
  0% {
    background-position: 200% 0;
  }
  100% {
    background-position: -200% 0;
  }
}

.skeleton-page-header {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  margin-bottom: 20px;
  .page-title {
    display: flex;
    align-items: center;
  }
  .h-8 { height: 2rem; }
  .h-4 { height: 1rem; }
  .h-10 { height: 2.5rem; }
  .w-40 { width: 10rem; }
  .w-60 { width: 15rem; }
  .w-32 { width: 8rem; }
  .mr-3 { margin-right: 0.75rem; }
  .add-account-button {
    margin-left: auto;
  }
  @media (max-width: 991px) {
    flex-direction: column;
    align-items: flex-start;
    gap: 10px;
    .page-title, p, .add-account-button {
      width: 100%;
      margin-left: 0;
      margin-right: 0;
    }
  }
}

ion-card.shadow-md {
  box-shadow: var(--shadow-light);
  border: 1px solid var(--border-color);
  background-color: var(--card-background);
  border-radius: 8px;
}

ion-card-header {
  .flex { display: flex; }
  .items-center { align-items: center; }
  .justify-between { justify-content: space-between; }
  .h-6 { height: 1.5rem; }
  .h-5 { height: 1.25rem; }
  .w-3\/5 { width: 60%; }
  .w-1\/4 { width: 25%; }
  .w-2\/5 { width: 40%; }
  .mt-1 { margin-top: 0.25rem; }
}

ion-card-content {
  .space-y-2 > :not([hidden]) ~ :not([hidden]) {
    margin-top: 0.5rem;
  }
  .h-4 { height: 1rem; }
  .h-8 { height: 2rem; }
  .w-1\/3 { width: 33.333%; }
  .w-3\/4 { width: 75%; }
  .w-1\/2 { width: 50%; }
  .mt-2 { margin-top: 0.5rem; }
}

.card-footer {
  border-top: 1px solid var(--border-color);
  padding-top: 1rem;
  .flex { display: flex; }
  .justify-end { justify-content: flex-end; }
  .gap-2 { gap: 0.5rem; }
  .h-9 { height: 2.25rem; }
  .w-20 { width: 5rem; }
}
